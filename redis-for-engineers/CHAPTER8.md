## 메모
- 일반적으로 마스터만 write 수행
- 마스터 id와 offset이 일치할 때 master와 slave의 상태가 정확히 일치
- master id가 달라지면 전체 sync 작업 수행
- 두 번째 마스터 아이디는 slave과 master로 승격된 상황에서 전체 sync가 아닌 부분 sync가 가능한지 판단하기 위한 지표
- 복제본에 데이터를 write할 수는 있지만 이 데이터가 복제본의 복제본에 반영되지는 않음 즉 로컬에서만 유효
- 이전 버전에서는 disk IO를 이용한 sync 작업을 이용했으나 현재는 socket을 사용하여 disk IO를 최소화함

## 개인적인 생각
설계 시 두 가지를 항상 생각할 것
1. 서비스가 갑작스럽게 종료된 경우
2. 장애 복구 후 데이터를 가져올 곳